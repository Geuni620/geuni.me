---
date: "2025-12-28"
title: "ì›¹í˜ì´ì§€ ë‚´ ëª¨ë“  Routeë¥¼ í•œ í˜ì´ì§€ë¡œ í•œì •í•˜ê¸°"
category: ["ê°œë°œ"]
summary: "-"
---

import { SandpackWrapper } from "@/components/sandpack";
import {
  LOADER_REDIRECT_EXAMPLE,
  LOADER_REDIRECT_WITH_LINK_EXAMPLE,
  LOADER_REDIRECT_WITH_SHOULD_REVALIDATE_EXAMPLE,
  LOADER_REDIRECT_WITH_ANCHOR_TAG_EXAMPLE,
} from "./file";
import { SideNote } from "@/components/layout";

## ìš”êµ¬ì‚¬í•­

ìµœê·¼ íšŒì‚¬ì—ì„œ ë‹¤ìŒê³¼ ê°™ì€ ì¡°ê±´ì˜ Taskë¥¼ í• ë‹¹ë°›ì•˜ë‹¤.

> í˜„ì¬ ì›¹ì‚¬ì´íŠ¸ë¡œ ì ‘ê·¼í•˜ëŠ” ëª¨ë“  ìœ ì €ë¥¼ `Notice Page`ë¡œ ì „í™˜ì‹œì¼œì•¼í•œë‹¤.

ìš”êµ¬ì‚¬í•­ì„ ë³´ìë§ˆì, react-routerì˜ loaderë¥¼ ì‚¬ìš©í•´ì„œ í•´ê²°í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ì•˜ë‹¤.

## Route Loaderë¥¼ ì‚¬ìš©í•œ ê°•ì œ ë¦¬ë‹¤ì´ë ‰íŠ¸

```tsx
const router = createBrowserRouter(
  createRoutesFromElements(
    <Route path="/" element={<Layout />}>
      <Route index element={<HomePage />} />
      <Route path="service1" element={<Service1Page />} />
      <Route path="service2" element={<Service2Page />} />
    </Route>
  )
);
```

ìœ„ ì½”ë“œì—ì„œ ì¡´ì¬í•˜ëŠ” pathëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

- "/"
- "/service1"
- "/service2"

ì´ pathë¡œ ì ‘ê·¼í•˜ëŠ” ëª¨ë“  ìœ ì €ëŠ” `Notice Page`ë¡œ ì „í™˜ì‹œì¼œì•¼í•œë‹¤.

```tsx
const router = createBrowserRouter(
  createRoutesFromElements(
    // loaderë¥¼ ë°˜ì˜
    <Route path="/" element={<Layout />} loader={forceRedirect("/notice-page")}>
      <Route index element={<HomePage />} />
      <Route path="service1" element={<Service1Page />} />
      <Route path="service2" element={<Service2Page />} />
      // Notice Page route ì¶”ê°€
      <Route path="notice-page" element={<NoticePage />} />
    </Route>
  )
);
```

ê°€ì¥ ë°”ê¹¥ìª½ì— ì¡´ì¬í•˜ëŠ” Routeì— loaderë¥¼ ë°˜ì˜í–ˆë‹¤.

```tsx
const forceRedirect = (path: string) => {
  return ({ request }: { request: Request }) => {
    const url = new URL(request.url);
    const currentPath = url.pathname;

    if (currentPath === path) {
      console.log(`ì´ë¯¸ ${path}ì— ìˆìŒ - ë¦¬ë‹¤ì´ë ‰íŠ¸ ì•ˆ í•¨`);

      return null;
    }

    return redirect(path);
  };
};
```

ì´ì œ `/notice-page`ê°€ ì•„ë‹ ê²½ìš°, redirectë¡œ notice í˜ì´ì§€ë¡œ ì „í™˜ë  ê²ƒì´ë‹¤.

<SandpackWrapper
  files={LOADER_REDIRECT_EXAMPLE.files}
  options={{
    editorHeight: 500,
    editorWidthPercentage: 0,
    showConsoleButton: false,
  }}
/>

<small>URLì— `/`, `/service1`, `/service2`ë¥¼ ì…ë ¥í•´ë³´ì„¸ìš”.</small>

## ë¬¸ì œìƒí™©

í•´ë‹¹ ê¸°ëŠ¥ì„ ê°„ëµíˆ êµ¬í˜„í•œ ë’¤, QAë¥¼ ìš”ì²­í–ˆë‹¤.  
ë‹¤ë¥¸ ìš©ë¬´ë¡œ ë””ìì´ë„ˆì™€ ìƒì˜í•˜ëŠ”ë°, ì™¼ìª½ ìƒë‹¨ì— ì¡´ì¬í•˜ëŠ” Logoë¥¼ í´ë¦­í•˜ë‹ˆ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë–¡í•˜ë‹ˆ ì´ë™í•˜ëŠ”ê²Œ ì•„ë‹Œê°€..;

ë‹¹í™©í•´ì„œ ìë¦¬ì— ëŒì•„ì˜¨ ë’¤, QA ìš”ì²­ì„ ì ê¹ í™€ë”©í•˜ê³  í•´ë‹¹ ê¸°ëŠ¥ì„ ìˆ˜ì •í–ˆë‹¤.

```tsx
const NoticePage = () => {
  return (
    <div style={{ padding: "20px" }}>
      <h1>Notice Page</h1>
      <p>This is Notice page. This is a protected route.</p>
      <Link to="/">Go to Home</Link> // here!!! ğŸ™‹â€â™‚ï¸
    </div>
  );
};
```

ì˜ˆì‹œë¥¼ ìœ„í•´, `Notice Page`ì— Linkíƒœê·¸ë¥¼ ì¶”ê°€í–ˆë‹¤.  
ê·¸ë¦¬ê³  í˜ì´ì§€ ì´ë™ì„ ì‹œë„í•˜ë©´, **í˜ì´ì§€ ì´ë™ì´ ê°€ëŠ¥í•˜ë‹¤.**  
ì¦‰, loaderê°€ ë™ì‘í•˜ì§€ ì•ŠëŠ” ê²ƒì´ë‹¤.

<SandpackWrapper
  files={LOADER_REDIRECT_WITH_LINK_EXAMPLE.files}
  options={{
    editorHeight: 500,
    editorWidthPercentage: 0,
    showConsoleButton: false,
  }}
/>

<small>`Go to Home`ë²„íŠ¼ì„ í´ë¦­í•´ë³´ì„¸ìš”.</small>

## ì›ì¸

```tsx
const router = createBrowserRouter(
  createRoutesFromElements(
    // loaderë¥¼ ë°˜ì˜
    <Route path="/" element={<Layout />} loader={forceRedirect("/notice-page")}>
      <Route index element={<HomePage />} />
      <Route path="service1" element={<Service1Page />} />
      <Route path="service2" element={<Service2Page />} />
      // Notice Page route ì¶”ê°€
      <Route path="notice-page" element={<NoticePage />} />
    </Route>
  )
);
```

ë¨¼ì € loaderë¥¼ ì¶”ê°€í–ˆë˜ Routeë¥¼ ë‹¤ì‹œ ì‚´í´ë³´ì.

[react router issue](https://github.com/remix-run/react-router/discussions/9327#discussioncomment-3954703) ì¤‘ ë©”ì¸í…Œì´ë„ˆê°€ ì½”ë©˜íŠ¸ ë‚¨ê¸´ ë¶€ë¶„ì„ ë³´ë©´, ì•„ë˜ì™€ ê°™ì´ ì •ë¦¬í•  ìˆ˜ ìˆë‹¤.

- ëª¨ë“  ë¡œë”ëŠ” ë³‘ë ¬ë¡œ í˜¸ì¶œëœë‹¤.
- ì¤‘ì²© ë¼ìš°íŒ…ì—ì„œëŠ” ì¬ì‚¬ìš©ëœ ë¼ìš°íŠ¸ì˜ ë¡œë”ê°€ ì¬ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤.
  - ë”°ë¼ì„œ `/parent`ì—ì„œ ë¡œë”ê°€ í™•ì¸ë˜ë©´, `/parent/child-1`ì—ì„œ `/parent/child-2`ë¡œ ì´ë™í•  ë•Œ ì¬í™•ì¸ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

ì¡°ê¸ˆ ì˜ì—­í•˜ìë©´, `/parent` loaderì—ë§Œ ë„£ì–´ë‘ë©´, ê°™ì€ ë¶€ëª¨ë¥¼ ê³µìœ í•˜ëŠ” ìì‹ ë¼ìš°íŠ¸ë“¤ ì‚¬ì´ë¥¼ ì´ë™í•  ë•Œ í•´ë‹¹ ê²€ì¦ì€ ì¬ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤.

ê·¸ë˜ì„œ í•œë²ˆ loaderê°€ ë™ì‘í•œ ë’¤, Linkë¡œ Go to Homeì„ ë™ì‘ì‹œí‚¤ë©´ ì´ë™ì´ ê°€ëŠ¥í–ˆë˜ ê²ƒì´ë‹¤.

## í•´ê²°ë°©ë²•

### shouldRevalidate

loaderê°€ pathì˜ ì´ë™ë§ˆë‹¤ ë™ì‘í•˜ë„ë¡ ë§Œë“¤ê³  ì‹¶ë‹¤ë©´, [shouldRevalidate](https://reactrouter.com/6.22.0/route/should-revalidate#shouldrevalidate)ë¥¼ ì„¤ì •í•˜ë©´ ê°€ëŠ¥í•˜ë‹¤.

```tsx
const router = createBrowserRouter(
  createRoutesFromElements(
    // loaderë¥¼ ë°˜ì˜
    <Route
      path="/"
      element={<Layout />}
      loader={forceRedirect("/notice-page")}
      shouldRevalidate={() => true} // shouldRevalidate true
    >
      <Route index element={<HomePage />} />
      <Route path="service1" element={<Service1Page />} />
      <Route path="service2" element={<Service2Page />} />
      // Notice Page route ì¶”ê°€
      <Route path="notice-page" element={<NoticePage />} />
    </Route>
  )
);
```

<SandpackWrapper
  files={LOADER_REDIRECT_WITH_SHOULD_REVALIDATE_EXAMPLE.files}
  options={{
    editorHeight: 500,
    editorWidthPercentage: 0,
    showConsoleButton: false,
  }}
/>

<small>
  `Go to Home`ë²„íŠ¼ì„ í´ë¦­í•´ë³´ì„¸ìš”. ì´ì œ ë¦¬ë‹¤ì´ë ‰íŠ¸ê°€ ì •ìƒ ë™ì‘í•©ë‹ˆë‹¤.
</small>

ì´ë ‡ê²Œí•˜ë©´, shouldRevalidateê°€ ê° pathë§ˆë‹¤ ì¬ê²€ì¦í•˜ì—¬ loaderê°€ ëª¨ë‘ ë™ì‘í•œë‹¤.

### Link â†’ aíƒœê·¸ë¡œ ë³€ê²½

```tsx
const NoticePage = () => {
  return (
    <div style={{ padding: "20px" }}>
      <h1>Notice Page</h1>
      <p>This is Notice page. This is a protected route.</p>
      // <Link to="/">Go to Home</Link>
      <a href="/">Go to Home</a> // here!!! ğŸ™‹â€â™‚ï¸
    </div>
  );
};
```

Linkë¥¼ aíƒœê·¸ë¡œ ë³€ê²½í–ˆì„ ë•Œ, [Client Side Routing](https://reactrouter.com/6.22.0/start/tutorial#client-side-routing)ì´ ì•„ë‹Œ ë§í¬ë¥¼ í†µí•œ documentë¥¼ ìƒˆë¡­ê²Œ ë‚´ë ¤ë°›ê²Œ ëœë‹¤.

ì¦‰ React Routerì˜ client-side navigationì„ ìš°íšŒí•˜ê³ , ë¸Œë¼ìš°ì € ê¸°ë³¸ ë„¤ë¹„ê²Œì´ì…˜ì— ì˜í•´ documentê°€ ìƒˆë¡œ ë¡œë“œëœë‹¤.

ì•±ì´ ì²˜ìŒ ë¡œë“œë˜ëŠ” ê²ƒê³¼ ë™ì¼í•œ íë¦„ìœ¼ë¡œ ë™ì‘í•˜ë©°, í•´ë‹¹ URLì— ë§¤ì¹­ë˜ëŠ” ëª¨ë“  routeì˜ loaderê°€ ì´ˆê¸° ë¡œë”© ë‹¨ê³„ì—ì„œ ë‹¤ì‹œ ì‹¤í–‰ëœë‹¤.
ì´ ë•Œë¬¸ì— loaderê°€ ë™ì‘í•œë‹¤.

<SandpackWrapper
  files={LOADER_REDIRECT_WITH_ANCHOR_TAG_EXAMPLE.files}
  options={{
    editorHeight: 500,
    editorWidthPercentage: 0,
    showConsoleButton: false,
  }}
/>

<small>
  `Go to Home (a íƒœê·¸)` ë²„íŠ¼ì„ í´ë¦­í•´ë³´ì„¸ìš”. <br />a íƒœê·¸ëŠ” documentë¥¼ ìƒˆë¡œ
  ë¡œë“œí•˜ê¸° ë•Œë¬¸ì— loaderê°€ ë™ì‘í•©ë‹ˆë‹¤.
</small>

### App Guard

## ì°¸ê³ ìë£Œ

[React-Router - Run a parent route loader function each time one if its sub-routes is matched](https://stackoverflow.com/questions/77133906/react-router-run-a-parent-route-loader-function-each-time-one-if-its-sub-route?utm_source=chatgpt.com)
