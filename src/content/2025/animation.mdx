---
date: "2025-05-01"
title: "animation"
category: ["개발"]
summary: "애니메이션 내용 기록"
---

[Great Animations](https://emilkowal.ski/ui/great-animations)

- ease-out(빠르게 시작하고 마지막에 느려지는), 300ms 이하로 설정
- 키보드 단축키에는 애니메이션을 넣지 않는 게 좋음

### 퍼포먼스

- 60FPS 유지가 최우선
- transform, opacity만 애니메이션에 사용하는 것이 이상적이다.
- 이 속성들은 Composite 단계만 트리거하여 브라우저 작업을 최소화 함
- 반면, margin, padding 등은 Layout -> Paint -> Composite 모두 트리거함

<br />

- 하드웨어 가속 애니메이션 사용
  - CSS 애니메이션 또는 Web Animation API를 사용하면 메인 스레드가 바쁘더라도 애니메이션은 부드럽게 유지
  - 단, CSS 애니메이션이라고 해도 모든 속성이 하드웨어 가속을 받는 것은 아님 -> transform, opacity는 안전한 선택
- rAF 기반 라이브러리(framer-motion)는 메인 스레드를 사용하기 때문에, 요소가 많아지면 성능 저하가 발생

---

### Intro

[Vault](https://animations.dev/vault)

강의 외에도 영감을 얻고, 배우고, 창작할 수 있는 유용한 링크, 도구, 엔지니어, 디자이너를 모아놓은 볼트

<br />

### The Easing Blueprint

ease-out

- 빠른 속도로 시작해 느린 속도로 끝남
- 모달 열기와 같은 사용자 주도형 인터렉션에 사용

ease-in-out

- 자동차처럼 천천히 시작했다가, 속도를 높이고 천천히 끝남
- 이미 화면에 있고, 새로운 위치로 이동하거나 새로운 형태로 변해야 하는 모든 것에 이 곡선을 사용

ease-in

- ease-out의 반대되는 개념
- 천천히 시작해서 빠르게 끝나는 방식
- 느리게 시작하기 때문에 인터페이스가 느리게 느껴지고, 반응성이 떨어질 수 있으므로 일반적으로 잘 안씀

linear

- 일정한 속도로 움직이기 때문에 모션이 로봇처럼 느껴지고, 부자연스러울 수 있으므로 일반적으로 잘 안씀
- linear를 사용하는 유일한 경우는 로딩스피너나 상호작용이 없는 기타 연속 애니메이션에 사용

ease

- ease-in-out과 유사하지만 비대칭이며, ease-in-out 곡선보다 빠르게 시작하고 느리게 끝남
- 주로 색상, 배경색, 불투명도 등을 전환하는 호버효과에 이를 사용

Create your own curve

- CSS cubic-bezier 함수를 사용하여 사용자 정의 완화 곡선을 만들 수 있음.
- 이는 다양한 커브가 어떻게 작동하는지 실험하고 더 나은 느낌을 얻을 수 있는 방법

[Cubic Bezier Curve Generator](https://easings.co/)

---

[Benjamin De Cock | Motion & Playfulness | UX Special, CSS Day 2018](https://youtu.be/fZpTvZuysIo?si=w8fH0Qw5bPV_2mQ5)  
![](./css-day-2018.png)

- css 대신 svg에 의존
- 웹 API > css animation > requestAnimationFrame
- will-change를 사용할 땐 주의할 것

<br />

### Spring animations

- spring animation은 SwiftUI에서 기본 애니메이션임
- 제품 UI에서 바운스가 적절한 경우는 몇 가지에 불과함
  - 보다 물리적인 느낌을 살리려면 **드래그 제스처가 끝날 때**, 약간의 바운스를 주는 것이 좋음
- 저자는 대부분의 경우 바운스를 사용하지 않는 편이며, 사용하기로 결정한 경우에도 아주 작은 값을 사용함
  - 일반적으로 전환이 자연스럽고 우아하게 느껴지도록 하기 위해서는 바운스 효과를 아예 사용하지 않는 것이 기본값이어야 해.

<br />

- spring animation은 자연스럽고 부드러움
  - 실제 물리 세계의 움직임을 시뮬레이션하기 때문에 더 현실감 있고 감성적인 느낌을 준다
  - ease, ease-in-out 같은 CSS 기반 커브 방식은 고정된 시간 내에서만 움직이기 때문에 비자연적임
- spring animation은 중단(Interrupt)되어도 자연스럽게 이어진다.
  - 새 애니메이션이 시작되면 기존 속도(velocity)를 이어받아 부드럽게 연결됨
  - CSS 애니메이션은 이걸 못함 → 갑자기 '툭' 튀는 문제가 발생함
- spring animation은 CSS만으로 제대로 구현할 수 없음
  - CSS에서는 spring이라는 개념이 없고, linear()나 cubic-bezier() 등으로 비슷하게 '흉내'만 낼 수 있음
  - 완전한 spring을 구현하려면, Framer motion, React Spring 같은 JS 기반 라이브러리를 사용해야함

[Animate with springs](https://developer.apple.com/videos/play/wwdc2023/10158)

- apple에서 spring animation에 대한 강의

[The physics behind spring animations](https://blog.maximeheckel.com/posts/the-physics-behind-spring-animations/)

- spring animation의 물리적 원리 설명

<br />

### Timing and purpose

- 호버 전환에는 150ms를 사용한다.
  - 모달이나 팝오버 같은 경우, 진입 전환에는 200ms, 퇴출 전환에는 150ms를 사용하며, 적절한 easing 효과를 적용한다.

<br />

### Animations and AI

animation prompt

```
# Animations Guidelines

## Keep your animations fast

- Default to use `ease-out` for most animations.
- Animations should never be longer than 1s (unless it's illustrative), most of them should be around 0.2s to 0.3s.

## Easing rules

- Don't use built-in CSS easings unless it's `ease` or `linear`.
- Use the following easings for their described use case:
  - **`ease-in`**: (Starts slow, speeds up) Should generally be avoided as it makes the UI feel slow.
    - `ease-in-quad`: `cubic-bezier(.55, .085, .68, .53)`
    - `ease-in-cubic`: `cubic-bezier(.550, .055, .675, .19)`
    - `ease-in-quart`: `cubic-bezier(.895, .03, .685, .22)`
    - `ease-in-quint`: `cubic-bezier(.755, .05, .855, .06)`
    - `ease-in-expo`: `cubic-bezier(.95, .05, .795, .035)`
    - `ease-in-circ`: `cubic-bezier(.6, .04, .98, .335)`

  - **`ease-out`**: (Starts fast, slows down) Best for elements entering the screen or user-initiated interactions.
    - `ease-out-quad`: `cubic-bezier(.25, .46, .45, .94)`
    - `ease-out-cubic`: `cubic-bezier(.215, .61, .355, 1)`
    - `ease-out-quart`: `cubic-bezier(.165, .84, .44, 1)`
    - `ease-out-quint`: `cubic-bezier(.23, 1, .32, 1)`
    - `ease-out-expo`: `cubic-bezier(.19, 1, .22, 1)`
    - `ease-out-circ`: `cubic-bezier(.075, .82, .165, 1)`

  - **`ease-in-out`**: (Smooth acceleration and deceleration) Perfect for elements moving within the screen.
    - `ease-in-out-quad`: `cubic-bezier(.455, .03, .515, .955)`
    - `ease-in-out-cubic`: `cubic-bezier(.645, .045, .355, 1)`
    - `ease-in-out-quart`: `cubic-bezier(.77, 0, .175, 1)`
    - `ease-in-out-quint`: `cubic-bezier(.86, 0, .07, 1)`
    - `ease-in-out-expo`: `cubic-bezier(1, 0, 0, 1)`
    - `ease-in-out-circ`: `cubic-bezier(.785, .135, .15, .86)`


## Hover transitions

- Use the built-in CSS `ease` with a duration of `200ms` for simple hover transitions like `color`, `background-color`,`opacity`.
- Fall back to easing rules for more complex hover transitions.
- Disable hover transitions on touch devices with the `@media (hover: hover) and (pointer: fine)` media query.

## Accessibility

- If `transform` is used in the animation, disable it in the `prefers-reduced-motion` media query.

## Origin-aware animations

- Elements should animate from the trigger. If you open a dropdown or a popover it should animate from the button. Change `transform-origin` according to the trigger position.

## Performance

- Stick to opacity and transforms when possible. Example: Animate using `transform` instead of `top`, `left`, etc. when trying to move an element.
- Do not animate drag gestures using CSS variables.
- Do not animate blur values higher than 20px.
- Use `will-change` to optimize your animation, but use it only for: `transform`, `opacity`, `clipPath`, `filter`.
- When using Motion/Framer Motion use `transform` instead of `x` or `y` if you need animations to be hardware accelerated.

## Spring animations

- Default to spring animations when using Framer Motion.
- Avoid using bouncy spring animations unless you are working with drag gestures.

```

<br />

## CSS animation

- When to use CSS animation

  - 간단한 호버 효과가 필요할 때
  - 요소의 등장/퇴장 애니메이션
  - 무한 반복되는 선형 애니메이션
  - 번들 크기에 민감한 프로젝트

- When to use Framer Motion
  - 복잡한 애니메이션 구현
  - 정교하고 세련된 애니메이션
  - 인터럽트 가능한 자연스러운 애니메이션

<br />

### transitions

transition property

- transition-property: 애니메이션을 적용할 속성, ex) transform, opacity, background-color, all
- transition-duration: 애니메이션 지속 시간, ex) 200ms
- transition-timing-function: 애니메이션 타이밍 함수, ex) ease, ease-in, cubic-bezier(0.19, 1, 0.22, 1)
- transition-delay: 애니메이션 지연 시간, ex) 100ms

```TSX
.button {
  /* Transition transform over 200ms with ease as our timing function and a delay of 100ms */
  transition: transform 200ms ease 100ms;
}
```
