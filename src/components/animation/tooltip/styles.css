:root {
  --anchor: "grab";
}

.layout {
  position: relative;
  width: 100%;
  min-height: 400px;
}

.grab {
  anchor-name: --anchor;
  position: absolute;
  cursor: grab;
  user-select: none;

  display: inline-flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 4px;
  transition: transform 0.3s ease;
}

.grab:active {
  transform: scale(0.97);
}

.tooptip {
  --distance: 1em;

  position: absolute;
  position-anchor: --anchor;

  /* 기본: 앵커 위, 가로 중앙 정렬 */
  bottom: calc(anchor(top) + var(--distance));
  justify-self: anchor-center;
  margin: var(--distance) 0 0;

  /* 자동 플립 (위/아래, 좌/우) */
  position-try: flip-block, flip-inline;

  /* 구문 차이 대응(기존 코드 유지 가능) */
  position-try-fallbacks: --to-bottom;
}

@position-try --to-bottom {
  bottom: auto;
  top: calc(anchor(bottom) + var(--distance));
  margin: 0 0 var(--distance);
}
